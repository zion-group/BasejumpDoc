
***********
bsg_swap
***********

* Overview

  The cell provides three ports(data_i,swap_i,data_o).The function of this module is to exchange the first row and the second row of the input array and output the position.

- Port
  
  +---------+---------+----------+---------------------------------------------+
  |  Type   |   NAME  |   WIDTH  |    DESCRIPTION                              |
  +---------+---------+----------+---------------------------------------------+ 
  |         |  data_i | width_p  | data input port                             |
  +  INPUT  +---------+----------+---------------------------------------------+
  |         |  swap_i |     1    | control port                                |
  +---------+---------+----------+---------------------------------------------+
  | OUTPUT  |  data_o | width_p  | data output port                            |
  +---------+---------+----------+---------------------------------------------+

* Parameter

  +------------+-------------------------------------------+-------------------------+
  |   Name     |               DESCRIPTION                 |        DEFAULT          |
  +------------+-------------------------------------------+-------------------------+ 
  |  width_p   |      input and output data width.         |         "inv"           |
  +------------+-------------------------------------------+-------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_swap.jpg

*******************
bsg_mux_segmented
*******************

* Overview

  This is a two-selection selector with width of segment_width_p bits.

- Port
  
  +---------+---------+---------------+---------------------------------------------+
  |  Type   |   NAME  |      WIDTH    |      DESCRIPTION                            |
  +---------+---------+---------------+---------------------------------------------+ 
  |         | data0_i | data_width_lp |    data input port                          |
  +         +---------+---------------+---------------------------------------------+
  |  INPUT  | data1_i | data_width_lp |    data input port                          |
  +         +---------+---------------+---------------------------------------------+
  |         |  sel_i  | segments_p    |    select port                              |
  +---------+---------+---------------+---------------------------------------------+
  | OUTPUT  |  data_o | data_width_lp |    data output port                         |
  +---------+---------+---------------+---------------------------------------------+

* Parameter

  +------------------+--------------------------------------------------+------------------------------+
  |      Name        |                 DESCRIPTION                      |           DEFAULT            |
  +------------------+--------------------------------------------------+------------------------------+ 
  |  data_width_lp   |         input and output data width.             |   segments_p*segment_width_p |  
  +------------------+--------------------------------------------------+------------------------------+ 
  |   segments_p     |             number of segments                   |            "inv"             |
  +------------------+--------------------------------------------------+------------------------------+
  | segment_width_p  |            width of each segment                 |            "inv"             |
  +------------------+--------------------------------------------------+------------------------------+
- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_mux_segmented.jpg
   
**********************
bsg_reduce_segmented
**********************

* Overview

  The function of this module is to perform the segment_width_p bit reduction.

- Port
  
  +---------+---------+-----------------------------+---------------------------------------------+
  |  Type   |   NAME  |           WIDTH             |        DESCRIPTION                          |
  +---------+---------+-----------------------------+---------------------------------------------+ 
  |  INPUT  |    i    | segments_p*segment_width_p  |      data input port                        |
  +---------+---------+-----------------------------+---------------------------------------------+
  |  OUTPUT |    o    |         segments_p          |      data output port                       |
  +---------+---------+-----------------------------+---------------------------------------------+

* Parameter

  +---------------+--------------------------------------------------+------------------------------+
  |     Name      |                 DESCRIPTION                      |           DEFAULT            |
  +---------------+--------------------------------------------------+------------------------------+ 
  |  segments_p   | input and output data width.                     |            "inv"             |
  +---------------+--------------------------------------------------+------------------------------+ 
  |     xor_p     | xor operation judgment expression                |              0               |
  +---------------+--------------------------------------------------+------------------------------+
  |     and_p     | and operation judgment expression                |              0               |
  +---------------+--------------------------------------------------+------------------------------+
  |     or_p      | or operation judgment expression                 |              0               |
  +---------------+--------------------------------------------------+------------------------------+
  |     nor_p     | nor operation judgment expression                |              0               |
  +---------------+--------------------------------------------------+------------------------------+
  
- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_reduce_segmented.jpg      
   
*******************
bsg_rotate_right
*******************

* Overview

  The function of this module is to implement the right shift operation and the number of digits shifted right does not exceed the number of bits of input data.

- Port
  
  +---------+---------+---------------------------+---------------------------------------------+
  |  Type   |   NAME  |           WIDTH           |    DESCRIPTION                              |
  +---------+---------+---------------------------+---------------------------------------------+ 
  |         |  data_i |          width_p          |   data input port                           |
  +  INPUT  +---------+---------------------------+---------------------------------------------+
  |         |  rot_i  |  BSG_SAFE_CLOG2(width_p)  |   control port                              |
  +---------+---------+---------------------------+---------------------------------------------+
  | OUTPUT  |  data_o |          width_p          |  data output port                           |
  +---------+---------+---------------------------+---------------------------------------------+
    
* Parameter

  +---------------+--------------------------------------------------+------------------------------+
  |     Name      |                 DESCRIPTION                      |           DEFAULT            |
  +---------------+--------------------------------------------------+------------------------------+ 
  |    width_p    |         input and output data width.             |              -1              |
  +---------------+--------------------------------------------------+------------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_rotate_right.jpg    
   
**************
bsg_transpose
**************

* Overview

  The function of this module is to exchange the position of the bit width and the bit width of the input data for the output.

- Port
  
  +---------+---------+---------------------------+---------------------------------------------+
  |  Type   |   NAME  |           WIDTH           |    DESCRIPTION                              |
  +---------+---------+---------------------------+---------------------------------------------+
  | INPUT   |    i    |        els_p*width_p      |  data input port                            |
  +---------+---------+---------------------------+---------------------------------------------+
  | OUTPUT  |    o    |        els_p*width_p      |  data output port                           |
  +---------+---------+---------------------------+---------------------------------------------+
  
* Parameter

  +---------------+--------------------------------------------------+------------------------------+
  |     Name      |                 DESCRIPTION                      |           DEFAULT            |
  +---------------+--------------------------------------------------+------------------------------+ 
  |   width_p     |       input and output data width.               |            "inv"             |
  +---------------+--------------------------------------------------+------------------------------+ 
  |   els_p       |       input and output data width.               |            "inv"             |      
  +---------------+--------------------------------------------------+------------------------------+
  
- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_transpose.jpg  

**********************
bsg_wait_after_reset
**********************

* Overview

  The function of this module is to wait a certain number of cycles after reset to begin.

- Port
  
  +---------+---------+---------------------------+---------------------------------------------+
  |  Type   |   NAME  |           WIDTH           |    DESCRIPTION                              |
  +---------+---------+---------------------------+---------------------------------------------+ 
  |         | reset_i |             1             |   clk input port                            |
  +  INPUT  +---------+---------------------------+---------------------------------------------+
  |         |  clk_i  |             1             |   reset input port                          |
  +---------+---------+---------------------------+---------------------------------------------+
  |  OUTPUT |ready_r_o|             1             |   data output port                          |
  +---------+---------+---------------------------+---------------------------------------------+
 
* Parameter

  +--------------------+--------------------------------------------------+------------------------------+
  |     Name           |                 DESCRIPTION                      |           DEFAULT            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |  lg_wait_cycles_p  |       register variable bit width                |            "inv"             |
  +--------------------+--------------------------------------------------+------------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_wait_after_reset.jpg   

******************
bsg_wait_cycles
******************

* Overview

  The function of this module is to wait for several cycles before the circuit starts to work.

- Port
  
  +---------+------------+---------------------------+---------------------------------------------+
  |   Type  |    NAME    |           WIDTH           |    DESCRIPTION                              |
  +---------+------------+---------------------------+---------------------------------------------+ 
  |         |   reset_i  |             1             |   clk input port                            |
  +         +------------+---------------------------+---------------------------------------------+
  |  INPUT  |    clk_i   |             1             |   reset input port                          |
  +         +------------+---------------------------+---------------------------------------------+
  |         | activate_i |             1             |   data input port                           |
  +---------+------------+---------------------------+---------------------------------------------+
  | OUTPUT  | ready_r_o  |             1             |   data output port                          |
  +---------+------------+---------------------------+---------------------------------------------+
  
* Parameter

  +--------------------+--------------------------------------------------+------------------------------+
  |        Name        |                 DESCRIPTION                      |           DEFAULT            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |      cycles_p      |    circuit intermediate variable bit width       |            "inv"             |
  +--------------------+--------------------------------------------------+------------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_wait_cycles.jpg   
       
******************
bsg_mux_bitwise
******************

* Overview

  This module is a two-to-one data selector with width_p bit width.

- Port
  
  +---------+------------+---------------------------+---------------------------------------------+
  |   Type  |    NAME    |           WIDTH           |    DESCRIPTION                              |
  +---------+------------+---------------------------+---------------------------------------------+ 
  |         |   data0_i  |          width_p          |   data input port                           |
  +         +------------+---------------------------+---------------------------------------------+
  |  INPUT  |   data1_i  |          width_p          |   data input port                           |
  +         +------------+---------------------------+---------------------------------------------+
  |         |    sel_i   |          width_p          |   sel input port                            |
  +---------+------------+---------------------------+---------------------------------------------+
  |  OUTPUT |   data_o   |          width_p          |   data output port                          |
  +---------+------------+---------------------------+---------------------------------------------+
  
* Parameter

  +--------------------+--------------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                      |           DEFAULT            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |      width_p       |    input and output data width.                  |             "inv"            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  
- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_mux_bitwise.jpg

***************
bsg_popcount
***************

* Overview

  This module uses a recursive method to reduce the bit width of the input data.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |  Type   |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  |  INPUT  |       i       |           width_p         |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |  OUTPUT |       o       |        log2(width_p+1)    |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+

* Parameter

  +--------------------+--------------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                      |           DEFAULT            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |      width_p       |    input and output data width.                  |           "inv"              |
  +--------------------+--------------------------------------------------+------------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_popcount.jpg    

*********
bsg_scan
*********

* Overview

  This module can encode the input data by selecting different modes.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |   Type  |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  |  INPUT  |       i       |           width_p         |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |  OUTPUT |       o       |           width_p         |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+


* Parameter

  +--------------------+--------------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                      |           DEFAULT            |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |      width_p       |    input and output data width.                  |             -1               |
  +--------------------+--------------------------------------------------+------------------------------+ 
  |       xor_p        |    control signal                                |              0               |
  +--------------------+--------------------------------------------------+------------------------------+
  |       and_p        |    control signal                                |              0               |
  +--------------------+--------------------------------------------------+------------------------------+
  |       or_p         |    control signal                                |              0               |
  +--------------------+--------------------------------------------------+------------------------------+  
  |      lo_to_hi_p    |    control signal                                |              0               |
  +--------------------+--------------------------------------------------+------------------------------+   
  |      debug_p       |    control signal                                |              0               |
  +--------------------+--------------------------------------------------+------------------------------+
 
- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_scan.jpg    

********************************
bsg_priority_encode_one_hot_out
********************************

* Overview

  This module encodes by one-hot and outputs the input data.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |  Type   |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  | INPUT   |       i       |           width_p         |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |         |      v_o      |             1             |   data output port                          |
  + OUTPUT  +---------------+---------------------------+---------------------------------------------+
  |         |       o       |           width_p         |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+

* Parameter

  +--------------------+---------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                 |           DEFAULT            |
  +--------------------+---------------------------------------------+------------------------------+ 
  |     width_p        |    input and output data width.             |            "inv"             |
  +--------------------+---------------------------------------------+------------------------------+ 
  |    lo_to_hi_p      |    control signal                           |            "inv"             |
  +--------------------+---------------------------------------------+------------------------------+

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_priority_encode_one_hot_out.jpg 

*********************
bsg_priority_encode
*********************

* Overview

  The function of this module is to encode and output the input data twice.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |   Type  |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  |  INPUT  |      i        |           width_p         |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |         |     v_o       |             1             |   data output port                          |
  +  OUTPUT +---------------+---------------------------+---------------------------------------------+
  |         |     addr_o    |`BSG_SAFE_CLOG2(width_p)-1 |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+

* Parameter

  +--------------------+---------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                 |           DEFAULT            |
  +--------------------+---------------------------------------------+------------------------------+ 
  |      width_p       |    input and output data width.             |            "inv"             |
  +--------------------+---------------------------------------------+------------------------------+
  |      lo_to_hi_p    |    control signal                           |            "inv"             |
  +--------------------+---------------------------------------------+------------------------------+  

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_priority_encode.jpg

*************************
bsg_thermometer_count
*************************

* Overview

  This module encodes and outputs the input data edge detection.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |  Type   |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  |  INPUT  |       i       |           width_p         |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |  OUTPUT |       o       |      $clog2(width_p+1)    |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+


* Parameter

  +--------------------+---------------------------------------------+------------------------------+
  |       Name         |                 DESCRIPTION                 |           DEFAULT            |
  +--------------------+---------------------------------------------+------------------------------+ 
  |      width_p       |    input and output data width.             |             -1               |
  +--------------------+---------------------------------------------+------------------------------+ 

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_thermometer_count.jpg   
   
*************************
bsg_unconcentrate_static
*************************

* Overview

  The function of this module is to extend the elements of the input vector according to the bit pattern.

- Port
  
  +---------+---------------+---------------------------+---------------------------------------------+
  |   Type  |      NAME     |           WIDTH           |    DESCRIPTION                              |
  +---------+---------------+---------------------------+---------------------------------------------+ 
  |  INPUT  |       i       |           width_1p        |   data input port                           |
  +---------+---------------+---------------------------+---------------------------------------------+
  |  OUTPUT |       o       |     $bits(pattern_els_p)  |   data output port                          |
  +---------+---------------+---------------------------+---------------------------------------------+

* Parameter

  +--------------------+---------------------------------------------+-----------------------------------------+
  |       Name         |                 DESCRIPTION                 |               DEFAULT                   |
  +--------------------+---------------------------------------------+-----------------------------------------+ 
  |      width_p       |    input data width.                        |`BSG_COUNTONES_SYNTH(pattern_els_p)      |
  +--------------------+---------------------------------------------+-----------------------------------------+ 
  |    pattern_els_p   |    output data width.                       |                "inv"                    |
  +--------------------+---------------------------------------------+-----------------------------------------+

- Assertion

  None

* Details & Circuit structure
  
   .. image :: image/bsg_unconcentrate_static.jpg
  